openapi: 3.1.1
info:
title: AI Resume Parser API
version: v1
description: Intelligent Resume Parsing and Job Matching API built using FastAPI, Celery, and Hugging Face Transformers.
servers:

url: https://api.yourapp.com/v1
description: Production Server (Placeholder)

url: http://localhost:8000
description: Local Development Server

tags:

name: Resumes
description: Operations related to resume upload and data retrieval.

name: Matching
description: AI-powered resume-to-job comparison.

paths:
/resumes/upload:
post:
tags:
- Resumes
summary: Upload and parse a resume asynchronously
description: Accepts a resume file in various formats and queues it for asynchronous AI processing.
requestBody:
content:
multipart/form-data:
schema:
type: object
properties:
file:
type: string
format: binary
description: Resume file (PDF, DOCX, TXT, JPG/PNG for OCR)
required:
- file
responses:
"202":
description: Resume uploaded successfully and processing initiated.
content:
application/json:
schema:
$ref: '#/components/schemas/UploadResponse'

/resumes/{id}:
get:
tags:
- Resumes
summary: Retrieve parsed resume data
description: Returns the full structured JSON data for a completed resume job.
parameters:
- name: id
in: path
required: true
schema:
type: string
format: uuid
responses:
"200":
description: Parsed data retrieved successfully.
content:
application/json:
schema:
$ref: '#/components/schemas/ResumeDataResponse'
"404":
description: Resume ID not found.

/resumes/{id}/status:
get:
tags:
- Resumes
summary: Get parsing status
description: Returns the current processing status ('processing', 'completed', 'failed').
parameters:
- name: id
in: path
required: true
schema:
type: string
format: uuid
responses:
"200":
description: Status retrieved successfully.
content:
application/json:
schema:
type: object
properties:
id:
type: string
status:
type: string
"404":
description: Resume ID not found.

/resumes/{id}/match:
post:
tags:
- Matching
summary: Match resume with job description
description: Compares a completed resume (by ID) against a provided job description using semantic matching and returns a relevancy score.
parameters:
- name: id
in: path
required: true
schema:
type: string
format: uuid
requestBody:
content:
application/json:
schema:
$ref: '#/components/schemas/MatchRequestInput'
responses:
"200":
description: Match results calculated successfully.
content:
application/json:
schema:
$ref: '#/components/schemas/MatchResultResponse'
"404":
description: Resume ID not found.
"409":
description: Resume parsing is not complete.

components:
schemas:
UploadResponse:
type: object
properties:
id: { type: string, description: "Unique ID for the resume job." }
status: { type: string, description: "Current status: processing" }
message: { type: string }
estimatedProcessingTime: { type: integer, description: "Estimated time in seconds." }

ResumeDataResponse:
  type: object
  properties:
    id: { type: string }
    status: { type: string }
    file_name: { type: string }
    uploaded_at: { type: string, format: date-time }
    parsed_data: { type: object, description: "Structured JSON output from the AI parser." }

JobRequirementsInput:
  type: object
  properties:
    required: { type: array, items: { type: string } }
    preferred: { type: array, items: { type: string } }

JobDescriptionInput:
  type: object
  properties:
    title: { type: string }
    description: { type: string }
    requirements: { $ref: '#/components/schemas/JobRequirementsInput' }

MatchOptionsInput:
  type: object
  properties:
    includeExplanation: { type: boolean }

MatchRequestInput:
  type: object
  properties:
    jobDescription: { $ref: '#/components/schemas/JobDescriptionInput' }
    options: { $ref: '#/components/schemas/MatchOptionsInput' }
  required:
    - jobDescription
    
MatchResultResponse:
  type: object
  properties:
    matchId: { type: string, format: uuid }
    overallScore: { type: integer, description: "Composite score from 0-100." }
    recommendation: { type: string }
    explanation: { type: object }
    categoryScores: { type: object }
    gapAnalysis: { type: object }
